<template>
    <div class="panel bar1">
        <h2>test</h2>
        <div class="chart"></div>
        <div class="panel-footer"></div>
    </div>
</template>

<script>
    export default {
        name: "PanelBar",
        methods:{
            myChartBar(){
                const myChart = this.$echart.init(document.querySelector(".bar1 .chart"));

                let data = [70, 34, 60, 78, 69];
                let titleName = ["test1", "test2", "test3", "test4", "test5"];
                let valData = [702, 350, 610, 793, 664];
                const myColor = ["#1089E7", "#F57474", "#56D0E3", "#F8B448", "#8B78F6"];
                let option = {
                    //图标位置
                    grid: {
                        top: "10%",
                        left: "22%",
                        bottom: "10%"
                    },
                    xAxis: {
                        show: false
                    },
                    yAxis: [
                        {
                            show: true,
                            data: titleName,
                            inverse: true,
                            axisLine: {
                                show: false
                            },
                            splitLine: {
                                show: false
                            },
                            axisTick: {
                                show: false
                            },
                            axisLabel: {
                                color: "#fff",

                                rich: {
                                    lg: {
                                        backgroundColor: "#339911",
                                        color: "#fff",
                                        borderRadius: 15,
                                        // padding: 5,
                                        align: "center",
                                        width: 15,
                                        height: 15
                                    }
                                }
                            }
                        },
                        {
                            show: true,
                            inverse: true,
                            data: valData,
                            axisLabel: {
                                textStyle: {
                                    fontSize: 12,
                                    color: "#fff"
                                }
                            }
                        }
                    ],
                    series: [
                        {
                            name: "条",
                            type: "bar",
                            yAxisIndex: 0,
                            data: data,
                            barCategoryGap: 50,
                            barWidth: 10,
                            itemStyle: {
                                normal: {
                                    barBorderRadius: 20,
                                    color: function(params) {
                                        var num = myColor.length;
                                        return myColor[params.dataIndex % num];
                                    }
                                }
                            },
                            label: {
                                normal: {
                                    show: true,
                                    position: "inside",
                                    formatter: "{c}%"
                                }
                            }
                        },
                        {
                            name: "框",
                            type: "bar",
                            yAxisIndex: 1,
                            barCategoryGap: 50,
                            data: [100, 100, 100, 100, 100],
                            barWidth: 15,
                            itemStyle: {
                                normal: {
                                    color: "none",
                                    borderColor: "#00c1de",
                                    borderWidth: 3,
                                    barBorderRadius: 15
                                }
                            }
                        }
                    ]
                };

                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
                window.addEventListener("resize", function() {
                    myChart.resize();
                });
            }
        },
        mounted() {
            this.myChartBar()
        }
    }
</script>

<style scoped>

</style>